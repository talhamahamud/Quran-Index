{% extends 'base.html' %}

{% block title %}{{ post.title }}{% endblock %}

{% block content %}
<section class="main-section">
    <header style="border-bottom: 2px solid #eee; padding-bottom: 10px; margin-bottom: 20px;">
        {{ post.title }}
        {% if current_user.is_authenticated %}
            <a href="{{ url_for('edit_post', slug=post.slug) }}" style="font-size: 0.6em; margin-left: 10px; text-decoration: none; color: #007bff;">[Edit]</a>
            <form action="{{ url_for('delete_post', slug=post.slug) }}" method="POST" style="display: inline;" onsubmit="return confirm('Are you sure you want to delete this post?');">
                <button type="submit" style="background: none; border: none; font-size: 0.6em; margin-left: 5px; text-decoration: none; color: #dc3545; cursor: pointer; padding: 0;">[Delete]</button>
            </form>
        {% endif %}
    </header>
    <article>
        <!-- Render content as safe HTML as it allows custom formatting or markdown -->
        {{ post.content | markdown | safe }}
    </article>
</section>
{% endblock %}
